# Chapter 5

### 데이터베이스 
- 데이터베이스 : 데이터를 매우 효율적으로 보관하고 꺼내볼 수 있는 곳
- DBMS : 데이터베이스를 관리하기 위한 소프트웨어
- RDBMS : 관계형 DBMS를 뜻하는 말로 테이블 형태로 이루어진 데이터 저장소를 의미
<br><br>
- 용어
  - 테이블 : 행과 열로 구성된 데이터를 구성하기 위한 가장 기본적인 단위
  - 행 : 테이블의 구성 요소 중 하나로 가로로 배열된 데이터를 의미
  - 열 : 테이블의 구성 요소 중 하나로 세로로 배열된 데이터를 의미
  - 기본키 : 행을 구분할 수 있는 식별자 
  - 쿼리 : 데이터베이스에서 데이터를 조회하거나 삭제, 수정 같은 처리를 위해 사용하는 명령어


- SQL 쿼리
  - SELECT <무엇을?>
  - FROM <어디에서?>
  - WHERE <무슨?>
  - INSERT INTO <어디에?>
  - VALUES <어떤 값을?>
  - DELETE FROM <어디에서?> WHERE <어떤 조건으로?>
  - UPDATE <어디에?>
  - SET <무슨 컬럼을 = 어떤 값으로?>


- ORM : 자바의 객체와 데이터베이스를 연결하는 프로그래밍 기법 
  - JPA
    - 엔티티 : 데이터베이스의 테이블과 매핑되는 객체
    - 엔티티 매니저 : 엔티티를 관리해 데이터베이스와 애플리케이션 사이에서 객체를 생성, 수정, 삭제하는 등의 역할 
  - 하이버네이트


- 영속성 컨텍스트 : JPA의 중요한 특징 중 하나로, 엔티티를 관리하는 가상의 공간
  - 1차 캐시 : 영속성 컨텍스트는 내부에 1차 캐시를 가지고 있음
  - 쓰기 지연 : 트랜잭션을 커밋하기 전까지 쿼리를 모았다가 커밋하면 모아둔 쿼리를 한번에 실행하는 것
  - 변경 감지 : 트랜잭셔늘 커밋하면 1차 캐시에 저장되어 있는 엔티티의 값과 현재 엔티티의 값을 비교해서 변경된 값이 있다면 데이터베이스에 자동으로 반영
  - 지연 로딩 : 필요할 때 쿼리를 날려 데이터를 조회하는 것


- 엔티티의 상태
  - 영속성 컨텍스트가 관리하고 있지 않은 분리
  - 영속성 컨텍스트가 관리하는 관리(persist)
  - 영속성 컨텍스트와 전혀 관계가 없는 비영속(detach)
  - 삭제(remove)


- @GeneratedValue의 자동키 생성 설정 방식
  - AUTO : 선택한 데이터베이스 방언(dialect)에 따라 방식을 자동으로 선택(기본값)
  - IDENTITY : 기본키 생성을 데이터베이스에 위임(= AUTO_INCREMENT)
  - SEQUENCE : 데이터베이스 시퀀스를 사용해서 기본키를 할당하는 방법, 오라클에서 주로 사용
  - TABLE : 키 생성 테이블 사용


- @Column 애너테이션의 속성
  - name : 필드와 매핑할 컬럼 이름
  - nullable : 컬럼의 null허용 여부. 설정하지 않으면 true(nullable)
  - unique : 컬럼의 유일한 값(unique) 여부, 설정하지 않으면 false(non-unique)
  - columnDefinition : 컬럼 정보 설정, default 값을 줄 수 있습니다.